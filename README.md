# cjm-transcription-plugin-whisper


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Install

``` bash
pip install cjm_transcription_plugin_whisper
```

## Project Structure

    nbs/
    └── plugin.ipynb # Plugin implementation for OpenAI Whisper transcription

Total: 1 notebook across 1 directory

## Module Dependencies

``` mermaid
graph LR
    plugin[plugin<br/>Whisper Plugin]
```

No cross-module dependencies detected.

## CLI Reference

No CLI commands found in this project.

## Module Overview

Detailed documentation for each module in the project:

### Whisper Plugin (`plugin.ipynb`)

> Plugin implementation for OpenAI Whisper transcription

#### Import

``` python
from cjm_transcription_plugin_whisper.plugin import (
    WhisperLocalPlugin
)
```

#### Classes

``` python
class WhisperLocalPlugin:
    def __init__(self):
        self.logger = logging.getLogger(f"{__name__}.{type(self).__name__}")
        self.config = {}
        self.model = None
        self.device = None
        self.model_dir = None
    
    @property
    def name(self) -> str
    "OpenAI Whisper transcription plugin."
    
    def __init__(self):
            self.logger = logging.getLogger(f"{__name__}.{type(self).__name__}")
            self.config = {}
            self.model = None
            self.device = None
            self.model_dir = None
        
        @property
        def name(self) -> str
    
    def name(self) -> str:
            return "whisper_local"
        
        @property
        def version(self) -> str
    
    def version(self) -> str:
            return "1.0.0"
        
        @property
        def supported_formats(self) -> List[str]
    
    def supported_formats(self) -> List[str]:
            return ["wav", "mp3", "flac", "m4a", "ogg", "webm", "mp4", "avi", "mov"]
        
        def get_config_schema(self) -> Dict[str, Any]
    
    def get_config_schema(self) -> Dict[str, Any]:
            """Return configuration schema for Whisper."""
            return {
                "$schema": "http://json-schema.org/draft-07/schema#",
        "Return configuration schema for Whisper."
    
    def get_current_config(self) -> Dict[str, Any]:
            """Return current configuration."""
            defaults = self.get_config_defaults()
            return {**defaults, **self.config}
        
        def initialize(self, config: Optional[Dict[str, Any]] = None) -> None
        "Return current configuration."
    
    def initialize(self, config: Optional[Dict[str, Any]] = None) -> None:
            """Initialize the plugin with configuration."""
            if config
        "Initialize the plugin with configuration."
    
    def execute(self, audio: Union[AudioData, str, Path], **kwargs) -> TranscriptionResult:
            """Transcribe audio using Whisper.
            
            Args:
                audio: Audio data or path to audio file
                **kwargs: Additional arguments to override config
                
            Returns:
                TranscriptionResult with transcribed text and metadata
            """
            # Load model if not already loaded
            self._load_model()
            
            # Prepare audio file
            audio_path = self._prepare_audio(audio)
            temp_file_created = not isinstance(audio, (str, Path))
            
            try
        "Transcribe audio using Whisper.

Args:
    audio: Audio data or path to audio file
    **kwargs: Additional arguments to override config
    
Returns:
    TranscriptionResult with transcribed text and metadata"
    
    def is_available(self) -> bool:
            """Check if Whisper is available."""
            return WHISPER_AVAILABLE
        
        def cleanup(self) -> None
        "Check if Whisper is available."
    
    def cleanup(self) -> None:
            """Clean up resources."""
            if self.model is not None
        "Clean up resources."
```
